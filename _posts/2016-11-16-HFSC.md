---
title: 'High- current and voltage fault simulation system controller'
date: 2016-11-16
permalink: /posts/2016/11/16/HFSC/
tags:
  - cool posts
  - category1
  - category2
---

The main goal of this project is to design a control system for current and voltage fault simulation generator. A senior student and I have primary responsiblility for the work completion. In this workï¼Œ we designed a STM32F7 Micro controller which outputs 6 analog signals. And we got the 3 phase current and voltage output waveform generated by the amplification. During the process we need to control factors including frequency, harmonics, amplitude and phase.

* Main features
  * self-adaptive control parameter enables self-checking function
  * waveform prediction and parameter updating function
  * high control speed (within 20ms)

* Main application
  * Fault simulation of power grid
  * Detection and excitation source of power grid equipment
* Voltage output requirements:
  * Output voltage 0-7kV
  * Voltage precision 5V  
  * The phase error is within 1.5 degrees
* Current output requirements:
  * 2 to 20 times harmonics can be generated
  * Output basic wave current range 0-600A
  * The maximum harmonic current can reach 300A
  *The error of current mutation is less than 3%
  *Steady state current precision 0.3A
  *The phase error is within 1.5 degrees

In this project, I was mainly responsible for the design of the controller hardware, including AD circuit, DA circuit and RS232 communication circuit. As for the software, my work comprised the programming of communication between controller and computer control, and the debugging of output waveform.

One of the main problems encountered in this project was that the power tube and the load were nonlinear. Due to the nonlinearity of the power pipe, the system gain was varied when the output of the current and the frequency of the harmonic wave were under different circumstances. It had greater distortion when the waveform changed, which didn't meet the requirements of the precision.
Therefore I did a lot of tests, and finally designed a corresponding system parameter using FFT method and each harmonic frequency. This parameter set range from 0.8 to 1.2. It could limit the waveform mutation to meet the requirements and the output parameters ( 10A to the 600A current) were fitted with 3 functions to settle the problem.

![1](https://SongyangZhang25.github.io/images/HFSC1.jpg) ![2](https://SongyangZhang25.github.io/images/HFSC2.jpg)
